{% extends '/super_admin/base.html' %}
{% block heading %} Departments {% endblock %}
{% block content %}
<div class="content-container">
  <div class="head">
    <h1>Department Registration</h1>
  </div>
  <form action="{{ url_for('add_department') }}" method="post">
    <div class="store-detail">
      <h2>Department Detail</h2>
      <div>
        <div class="details-input">
          <label for="department">Department Name <span class="hash">*</span></label>
          <input type="text" name="department" id="department" placeholder="Department" required />
        </div>
        <div id="unitform"></div>

        <button class="green" id="generateFormButton">Generate Unit Form</button>
      </div>
    </div>
    
    <div class="input-submit">
      <input type="submit" value="Add">
    </div>
  </form>
</div>
</div>

<script>
    const generateFormButton = document.getElementById("generateFormButton");
    const unitform = document.getElementById("unitform");
    let formCounter = 1;
  
    generateFormButton.addEventListener("click", () => {
      // Create and append a new unit form
      const newForm = document.createElement('div');
      newForm.innerHTML = `
      <h2>Unit Detail ${formCounter}</h2>
      <div class="details-input">
        <label for="unit">Unit Name <span class="hash">*</span></label>
        <input type="text" name="unit" id="unit" placeholder="Unit" required />
      </div>`;
      unitform.appendChild(newForm);
      formCounter++;
    });
  </script>
{% endblock %}
